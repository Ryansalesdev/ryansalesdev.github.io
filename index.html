<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>PetDex</title>
  <link rel="stylesheet" href="css/style.css" />
  <!-- Font Awesome CDN (corrigido) -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" />
</head>
<body>

  <!-- Top Bar -->
  <div class="top-bar">
    <div class="container">
      <div class="left">
        <a href="/paginas/Sobre.html">Sobre N√≥s</a> |
        <a href="/paginas/help.html">Help</a> |
        <a href="#contato">Contato</a>
      </div>
    </div>
  </div>

  <!-- Header -->
  <header class="header">
    <div class="container header-container">
      <div class="logo">
        <img src="fotos/logo.png" alt="PetDex Logo" />
        <div class="p">
          <p>Um lar para cada patinha</p> 
        </div>
      </div>

<div class="search-bar">
  <input type="text" placeholder="Buscar...">
  <button type="submit"><i class="fas fa-search"></i></button>
</div>

<div class="header-actions">
  <span id="user-name" class="user-name"></span>
  <button id="theme-toggle" class="theme-toggle">
    <span class="theme-icon">üåô</span>
  </button>
  <a href="/paginas/denuncia.html" target="_blank" class="nome-denunciar">DENUNCIAR</a>
  <button id="btn-open-cadastro" class="btn-cadastro">Cadastrar-se</button>
  <button id="btn-open-login" class="btn-login">Login</button>
  <button id="btn-editar" class="btn-edit" style="display:none;">Editar Perfil</button>
  <button id="btn-sair" class="btn-logout" style="display:none;">Sair</button>
</div>



    
  </header>

  <nav class="navbar">
  <div class="container navbar-inner"> 
    <button class="menu-toggle" aria-label="Abrir menu">
      <i class="fas fa-bars"></i>
    </button>

    <ul class="nav-menu">
      <li><a href="/index.html" class="active">INICIO</a></li>

      <li class="dropdown">
        <a href="#">ONGS <i class="fas fa-chevron-down"></i></a>
        <ul class="dropdown-menu">
          <li><a href="/ongs.html" target="_blank">ONG Esperan√ßa animal</a></li>
        </ul>
      </li>

      <li class="dropdown">
        <a href="#">VETERIN√ÅRIOS <i class="fas fa-chevron-down"></i></a>
        <ul class="dropdown-menu">
          <li><a href="/paginas/veterinaria.html" target="_blank">Cl√≠nica Dra. Ana Silva</a></li>
        </ul>
      </li>
      <li class="dropdown">
        <a href="#">Pet Shops <i class="fas fa-chevron-down"></i></a>
        <ul class="dropdown-menu">
          <li><a href="/paginas/linox.html" target="_blank">PetShop Linox</a></li>
        </ul>
      </li>
    </ul>
  </div>
</nav>


  <!-- Banner Slider -->
  <section class="banner-slider">
    <div class="slider-container">
      <div class="slide active">
        <img src="fotos/testando1.jpg" alt="Cachorro fofo" />
      </div>
      <div class="slide">
        <img src="fotos/teste.jpg" alt="Homem com cachorro" />
      </div>
    </div>

    <button class="prev-btn">‚Äπ</button>
    <button class="next-btn">‚Ä∫</button>

    <div class="dots">
      <span class="dot active"></span>
      <span class="dot"></span>
    </div>
  </section>

  <div class="dicas-section">
    <h2>Pet Dicas!</h2>

    <!-- Bot√µes de categoria -->
    <div class="categories">
      <button class="category-btn" data-category="cachorro">Cachorro</button>
      <button class="category-btn" data-category="bem-estar">Bem-estar</button>
      <button class="category-btn" data-category="comportamento">Comportamento</button>
    </div>

    <!-- Cards (PET DICAS) -->
    <div class="cards-container">
      <!-- Cachorro -->
      <div class="card" data-filter="cachorro">
        <img src="fotos/card1.jpg" alt="Dermatite Seborreica" />
        <div class="card-body">
          <h3 class="card-title">Dermatite Seborreica em cachorro: o que √©, sintomas e como tratar</h3>
          <a href="/paginas/dermatite.html"  target="_blank" class="read-more">Ler mais</a>
        </div>
      </div>
      <div class="card" data-filter="cachorro">
        <img src="fotos/card2.jpg" alt="Vacinas" />
        <div class="card-body">
          <h3 class="card-title">Quantas vacinas o cachorro tem que tomar? Entenda a import√¢ncia de...</h3>
          <a href="/paginas/vacinas.html" target="_blank" class="read-more">Ler mais</a>
        </div>
      </div>
      <div class="card" data-filter="cachorro">
        <img src="fotos/card3.png" alt="Shih Tzu" />
        <div class="card-body">
          <h3 class="card-title">Cuidados com Shih Tzu: dicas para manter o bem-estar e a...</h3>
          <a href="/paginas/shitzu.html" target="_blank" class="read-more">Ler mais</a>
        </div>
      </div>

      <!-- Bem-estar -->
      <div class="card" data-filter="bem-estar">
        <img src="fotos/card4.jpg" alt="Alimenta√ß√£o Saud√°vel" />
        <div class="card-body">
          <h3 class="card-title">Alimenta√ß√£o saud√°vel: como escolher a ra√ß√£o ideal para seu pet</h3>
          <a href="/paginas/alimentacao.html"  target="_blank" class="read-more">Ler mais</a>
        </div>
      </div>
      <div class="card" data-filter="bem-estar">
        <img src="fotos/exercicio.jpg" alt="Exerc√≠cios" />
        <div class="card-body">
          <h3 class="card-title">Exerc√≠cios di√°rios: por que s√£o essenciais para o bem-estar do seu pet</h3>
          <a href="/paginas/exercicios.html" target="_blank" class="read-more">Ler mais</a>
        </div>
      </div>
      <div class="card" data-filter="bem-estar">
        <img src="fotos/banhoetosa.jpg" alt="Banho e Tosa" />
        <div class="card-body">
          <h3 class="card-title">Banho e tosa: dicas para deixar seu pet limpo e confort√°vel</h3>
          <a href="/paginas/banhoetosa.html"  target="_blank" class="read-more">Ler mais</a>
        </div>  
      </div>

      <!-- Comportamento -->
      <div class="card" data-filter="comportamento">
        <img src="fotos/latindo.jpg" alt="Latidos Excessivos" />
        <div class="card-body">
          <h3 class="card-title">Latidos excessivos: como entender e corrigir esse comportamento</h3>
          <a href="/paginas/latidos.html"  target="_blank" class="read-more">Ler mais</a>
        </div>
      </div>
      <div class="card" data-filter="comportamento">
        <img src="fotos/ansiedade.jpg" alt="Ansiedade de Separa√ß√£o" />
        <div class="card-body">
          <h3 class="card-title">Ansiedade de separa√ß√£o: sinais e como ajudar seu pet</h3>
          <a href="/paginas/ansiedade.html" target="_blank" class="read-more">Ler mais</a>
        </div>
      </div>
      <div class="card" data-filter="comportamento">
        <img src="fotos/mordendo.jpg" alt="Morder M√≥veis" />
        <div class="card-body">
          <h3 class="card-title">Por que meu cachorro morde m√≥veis? Como ensinar limites</h3>
          <a href="/paginas/morde.html" target="_blank" class="read-more">Ler mais</a>
        </div>
      </div>
    </div>
  </div>

  <!-- Footer -->
  <footer class="site-footer" id="contato">
    <div class="footer-container">
      <div class="footer-col">
        <h4>Endere√ßo</h4>
        <p>RIO DE JANEIRO - RJ</p>
      </div>
      <div class="footer-col">
        <h4>Hor√°rio</h4>
        <p>Seg - Sex: 8h - 18h</p>
        <p>S√°b: 9h - 14h</p>
      </div>
      <div class="footer-col">
        <h4>Contato</h4>
        <p>üìû (21) 99999-9999</p>
        <p>‚úâÔ∏è contato@petdex.com</p>
      </div>
    </div>
    <p class="copy">&copy; 2025 PetDex - Todos os direitos reservados.</p>
    <div class="footer-social">
      <a href="https://instagram.com/petdex.site" target="_blank" aria-label="Instagram">
        <i class="fab fa-instagram"></i>
      </a>
    </div>
  </footer>

  <!-- Scripts -->
  <script>
    // Slider
    const slides = document.querySelectorAll('.slide');
    const dots = document.querySelectorAll('.dot');
    const prevBtn = document.querySelector('.prev-btn');
    const nextBtn = document.querySelector('.next-btn');
    let currentIndex = 0;

    function showSlide(index) {
      slides.forEach(slide => slide.classList.remove('active'));
      dots.forEach(dot => dot.classList.remove('active'));
      slides[index].classList.add('active');
      dots[index].classList.add('active');
    }

    nextBtn?.addEventListener('click', () => {
      currentIndex = (currentIndex + 1) % slides.length;
      showSlide(currentIndex);
    });

    prevBtn?.addEventListener('click', () => {
      currentIndex = (currentIndex - 1 + slides.length) % slides.length;
      showSlide(currentIndex);
    });

    dots.forEach((dot, index) => {
      dot.addEventListener('click', () => {
        currentIndex = index;
        showSlide(currentIndex);
      });
    });
  </script>

  <script>
    
    const themeToggle = document.getElementById('theme-toggle');
    const icon = themeToggle?.querySelector('.theme-icon');

    // Carrega tema salvo
    if (localStorage.getItem('theme') === 'dark') {
      document.body.classList.add('dark-theme');
      if (icon) icon.textContent = '‚òÄÔ∏è';
    }

    themeToggle?.addEventListener('click', () => {
      document.body.classList.toggle('dark-theme');
      const isDark = document.body.classList.contains('dark-theme');
      
      if (icon) {
        icon.textContent = isDark ? '‚òÄÔ∏è' : 'üåô';
      }
      
      localStorage.setItem('theme', isDark ? 'dark' : 'light');
    });
  </script>

  <script>
    // Filtro de cards
    document.addEventListener("DOMContentLoaded", function () {
      const buttons = document.querySelectorAll(".category-btn");
      const cards = document.querySelectorAll(".card");

      function filterCards(category, activeButton) {
        cards.forEach(card => {
          card.style.display = card.dataset.filter === category ? "block" : "none";
        });

        buttons.forEach(btn => btn.classList.remove("active"));
        activeButton.classList.add("active");
      }

      buttons.forEach(button => {
        button.addEventListener("click", function () {
          filterCards(this.dataset.category, this);
        });
      });

      if (buttons[0]) {
        filterCards(buttons[0].dataset.category, buttons[0]);
      }
    });
  </script>
  <script>
  document.addEventListener('DOMContentLoaded', function () {
  const menuToggle = document.querySelector('.menu-toggle');
  const navMenu = document.querySelector('.nav-menu');
  const dropdownLinks = document.querySelectorAll('.dropdown > a');

  if (menuToggle && navMenu) {
    menuToggle.addEventListener('click', () => navMenu.classList.toggle('active'));

    document.addEventListener('click', (e) => {
      if (window.innerWidth <= 768) {
        if (!navMenu.contains(e.target) && !menuToggle.contains(e.target)) {
          navMenu.classList.remove('active');
        }
      }
    });

    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape') navMenu.classList.remove('active');
    });
  }

  dropdownLinks.forEach(link => {
    link.addEventListener('click', function (e) {
      if (window.innerWidth <= 768) {
        e.preventDefault();
        this.parentElement.classList.toggle('open');
      }
    });
  });

  window.addEventListener('resize', () => {
    if (window.innerWidth > 768) {
      navMenu.classList.remove('active');
      document.querySelectorAll('.dropdown.open').forEach(d => d.classList.remove('open'));
    }
  });
});
</script>
<!-- ===========================
      MODAL DE CADASTRO
=========================== -->
<div id="modal-cadastro" class="modal-overlay">
  <div class="modal">
    <button class="modal-close">&times;</button>

    <div class="container-modal">
      <header>
        <img src="/fotos/logo_petdex_1.png" class="header-icon" alt="Logo PetDex">
        <h1>Cadastrar-se</h1>
        <p>Insira seus dados nos campos abaixo para se cadastrar.</p>
      </header>

      <main>
        <form action="#" method="post" id="modal-form">
          
          <div class="form-group">
            <label for="nome">Nome Completo</label>
            <input type="text" id="nome" name="nome" required placeholder="Digite seu nome completo">
          </div>

          <div class="form-group">
            <label for="cpf">CPF</label>
            <input type="text" id="cpf" name="cpf" required placeholder="Digite seu CPF">
          </div>

          <div class="form-group">
            <label for="data-nascimento">Data de Nascimento</label>
            <input type="date" id="data-nascimento" name="data-nascimento" required>
          </div>

          <div class="form-group">
            <label for="email">E-mail</label>
            <input type="email" id="email" name="email" required placeholder="Digite seu E-mail">
          </div>
          <div class="form-group">
            <label for="senha">Senha</label>
            <input type="password" id="senha" name="senha" required placeholder="Crie uma senha">
          </div>

          <div class="form-group">
            <label for="cep">CEP</label>
            <input type="text" id="cep" name="cep" required placeholder="Digite seu CEP" maxlength="9">
          </div>

          <div class="form-group">
            <label for="logradouro">Rua</label>
            <input type="text" id="logradouro" name="logradouro" disabled>
          </div>

          <div class="form-group">
            <label for="numero">N√∫mero</label>
            <input type="text" id="numero" name="numero" required placeholder="N√∫mero da casa">
          </div>

          <div class="form-group">
            <label for="complemento">Complemento</label>
            <input type="text" id="complemento" name="complemento" placeholder="Apartamento, bloco...">
          </div>

          <div class="form-group">
            <label for="bairro">Bairro</label>
            <input type="text" id="bairro" name="bairro" disabled>
          </div>

          <div class="form-group">
            <label for="cidade">Cidade</label>
            <input type="text" id="cidade" name="cidade" disabled>
          </div>

          <div class="form-group">
            <label for="uf">UF</label>
            <select id="uf" name="uf" disabled>
              <option value=""></option>
              <option value="RJ">RJ</option>
              <option value="SP">SP</option>
              <option value="MG">MG</option>
            </select>
          </div>

          <button type="submit" class="btn-submit">Confirmar Cadastro</button>
        </form>
      </main>
    </div>
  </div>
</div>
<!-- ===========================
          MODAL DE LOGIN
=========================== -->
<div id="modal-login" class="modal-overlay">
  <div class="modal">
    <button class="modal-close">&times;</button>

    <div class="container-modal">
      <header>
        <img src="/fotos/logo_petdex_1.png" class="header-icon" alt="Logo PetDex">
        <h1>Login</h1>
        <p>Entre com seu e-mail e senha.</p>
      </header>

      <main>
        <form id="login-form">
          <div class="form-group">
            <label for="login-email">E-mail</label>
            <input type="email" id="login-email" required placeholder="Digite seu email">
          </div>

          <div class="form-group">
            <label for="login-senha">Senha</label>
            <input type="password" id="login-senha" required placeholder="Digite sua senha">
          </div>

          <button type="submit" class="btn-submit">Entrar</button>
        </form>
      </main>
    </div>
  </div>
</div>
<div class="modal-overlay" id="modal-editar">
  <div class="modal">
    <h2>Editar Perfil</h2>

    <div class="input-group">
      <label for="editar-nome">Nome</label>
      <input type="text" id="editar-nome">
    </div>

    <div class="input-group">
      <label for="editar-email">Email</label>
      <input type="email" id="editar-email">
    </div>

    <div class="input-group">
      <label for="editar-senha">Nova Senha</label>
      <input type="password" id="editar-senha">
    </div>

    <button id="salvar-edicao" class="btn-edit">Salvar</button>
    <button id="fechar-editar" class="btn-logout">Cancelar</button>
  </div>
</div>


<script>
document.addEventListener("DOMContentLoaded", () => {
  const modal = document.getElementById("modal-cadastro");
  const openBtn = document.getElementById("btn-open-cadastro");
  const closeBtn = modal.querySelector(".modal-close");

  function openModal() {
    modal.style.display = "flex";
    document.body.style.overflow = "hidden";

    const firstInput = modal.querySelector("input, select, textarea");
    if (firstInput) firstInput.focus();
  }

  function closeModal() {
    modal.style.display = "none";
    document.body.style.overflow = "";
  }

  // abrir modal
  openBtn.addEventListener("click", (e) => {
    e.preventDefault();
    openModal();
  });

  // fechar modal (bot√£o X)
  closeBtn.addEventListener("click", closeModal);

  // fechar clicando fora
  modal.addEventListener("click", (e) => {
    if (e.target === modal) closeModal();
  });

  // fechar com ESC
  document.addEventListener("keydown", (e) => {
    if (e.key === "Escape") closeModal();
  });
});
</script>
<script>
// m√°scara CPF
document.getElementById("cpf").addEventListener("input", function(e) {
    let v = e.target.value.replace(/\D/g, "");
    if (v.length > 11) v = v.slice(0, 11);

    if (v.length <= 3) {}
    else if (v.length <= 6)
        v = `${v.slice(0,3)}.${v.slice(3)}`;
    else if (v.length <= 9)
        v = `${v.slice(0,3)}.${v.slice(3,6)}.${v.slice(6)}`;
    else
        v = `${v.slice(0,3)}.${v.slice(3,6)}.${v.slice(6,9)}-${v.slice(9,11)}`;

    e.target.value = v;
});

// m√°scara CEP
document.getElementById("cep").addEventListener("input", function (e) {
    let v = e.target.value.replace(/\D/g, "");
    if (v.length > 5) v = v.slice(0,5) + "-" + v.slice(5,8);
    e.target.value = v;
});

// busca CEP
document.getElementById("cep").addEventListener("blur", async function () {
    const cep = this.value.replace(/\D/g, "");
    if (cep.length !== 8) return;

    try {
        const r = await fetch(`https://viacep.com.br/ws/${cep}/json/`);
        const d = await r.json();

        if (!d.erro) {
            document.getElementById("logradouro").value = d.logradouro;
            document.getElementById("bairro").value = d.bairro;
            document.getElementById("cidade").value = d.localidade;
            document.getElementById("uf").value = d.uf;
            document.getElementById("logradouro").disabled = false;
            document.getElementById("bairro").disabled = false;
            document.getElementById("cidade").disabled = false;
            document.getElementById("uf").disabled = false;
        }
    } catch {
        alert("Erro ao buscar o CEP.");
    }
});
</script>
 // SALVAR CADASTRO NO LOCALSTORAGE
 <script>
document.getElementById("modal-form").addEventListener("submit", function(e){
  e.preventDefault();

  const usuario = {
    nome: document.getElementById("nome").value,
    cpf: document.getElementById("cpf").value,
    nascimento: document.getElementById("data-nascimento").value,
    email: document.getElementById("email").value,
    cep: document.getElementById("cep").value,
    logradouro: document.getElementById("logradouro").value,
    numero: document.getElementById("numero").value,
    complemento: document.getElementById("complemento").value,
    bairro: document.getElementById("bairro").value,
    cidade: document.getElementById("cidade").value,
    uf: document.getElementById("uf").value,
    senha: document.getElementById("senha").value // ‚Üê AGORA CORRETO!
  };

  localStorage.setItem("usuario", JSON.stringify(usuario));

  alert("Cadastro conclu√≠do!");
  document.getElementById("modal-cadastro").style.display = "none";
});
</script>

<script>
document.getElementById("login-form").addEventListener("submit", function(e){
  e.preventDefault();

  const email = document.getElementById("login-email").value;
  const senha = document.getElementById("login-senha").value;

  const usuario = JSON.parse(localStorage.getItem("usuario"));

  if (!usuario) {
    alert("Nenhum cadastro encontrado.");
    return;
  }

  if (email === usuario.email && senha === usuario.senha) {
    
    localStorage.setItem("logado", "true");
    localStorage.setItem("userLogged", JSON.stringify(usuario));

    alert("Login realizado!");

    document.getElementById("modal-login").style.display = "none";
    document.body.style.overflow = "";

    // Mostrar bot√µes corretos
    document.getElementById("btn-editar").style.display = "inline-block";
    document.getElementById("btn-sair").style.display = "inline-block";

    // Esconder bot√µes de login/cadastro
    document.getElementById("btn-open-login").style.display = "none";
    document.getElementById("btn-open-cadastro").style.display = "none";

    atualizarTopoUsuario();

  } else {
    alert("Email ou senha incorretos!");
  }
});

</script>
<script>
const loginModal = document.getElementById("modal-login");
const openLogin = document.getElementById("btn-open-login");
const closeLogin = loginModal.querySelector(".modal-close");

// abrir
openLogin.addEventListener("click", () => {
  loginModal.style.display = "flex";
  document.body.style.overflow = "hidden";
});

// fechar
closeLogin.addEventListener("click", () => {
  loginModal.style.display = "none";
  document.body.style.overflow = "";
});

// clicar fora
loginModal.addEventListener("click", (e) => {
  if (e.target === loginModal) {
    loginModal.style.display = "none";
    document.body.style.overflow = "";
  }
});
</script>
<script>
// Mostrar nome do usu√°rio logado no topo
const userSpan = document.getElementById("user-name");
const userData = JSON.parse(localStorage.getItem("usuario"));
const logado = localStorage.getItem("logado");

if (logado === "true" && userData) {
  userSpan.textContent = "Ol√°, " + userData.nome.split(" ")[0] + " üëã";
}
</script>

<script>
function atualizarTopoUsuario() {
  const user = JSON.parse(localStorage.getItem("userLogged"));
  const loginBtn = document.getElementById("btn-open-login");
  const cadastroBtn = document.getElementById("btn-open-cadastro");
  const userSpan = document.getElementById("user-name");

  if (user) {
    userSpan.textContent = "Ol√°, " + user.nome.split(" ")[0] + " üëã";
    loginBtn.style.display = "none";
    cadastroBtn.style.display = "none";
    document.getElementById("btn-editar").style.display = "inline-block";
    document.getElementById("btn-sair").style.display = "inline-block";
  }
}

</script>
<script>
  document.getElementById("btn-sair").addEventListener("click", () => {
  localStorage.removeItem("logado");
  localStorage.removeItem("userLogged");

  alert("Voc√™ saiu da sua conta!");

  location.reload(); // atualiza topo automaticamente
});

</script>
<script>
  document.getElementById("btn-editar").addEventListener("click", () => {
  const user = JSON.parse(localStorage.getItem("userLogged"));

  document.getElementById("editar-nome").value = user.nome;
  document.getElementById("editar-email").value = user.email;
  document.getElementById("editar-senha").value = user.senha;

  document.getElementById("modal-editar").style.display = "flex";
});

</script>
<script>
 document.getElementById("salvar-edicao").addEventListener("click", () => {

  const nome = document.getElementById("editar-nome").value;
  const email = document.getElementById("editar-email").value;
  const senha = document.getElementById("editar-senha").value;

  const novoUsuario = { ...JSON.parse(localStorage.getItem("usuario")), nome, email, senha };

  // Atualiza ambas as chaves
  localStorage.setItem("usuario", JSON.stringify(novoUsuario));
  localStorage.setItem("userLogged", JSON.stringify(novoUsuario));

  alert("Dados atualizados!");

  document.getElementById("modal-editar").style.display = "none";
  atualizarTopoUsuario();
});


</script>
</body>
</html>
